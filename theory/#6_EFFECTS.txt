
#6.0 Introduction

component가 처음 render될 때만 코드가 실행되길 함
혹은 첫번째 render에만 코드가 실행되고, 다른 state 변화에는 실행되지 않도록

ex ) API를 통해 데이터를 가져올 때

  첫 번째 component render에서 API를 call하고,
  이후에 state가 변화할 때, 그 API에서 데이터를 또다시 가져오고 싶진 않을테니까


#6.1 useEffect

원하는 바

- 특정 코드의 실행을 제한
  component가 맨 처음 render될 때만 딱 한 번 실행하고, 다시는 실행하지 않도록

`useEffect`
: 두 개의 argument를 가지는 function

  1. 첫 번째 argument : 우리가 딱 한 번만 실행하고 싶은 코드
  2. 두 번째 argument : see you next time byebye

쉽게 말해서 useEffect는 코드가 딱 한 번만 실행될 수 있도록 보호해 줌

  import { useState, useEffect } from 'react';

  function App() {
    const [counter, setValue] = useState(0);
    const onClick = () => setValue((prev) => prev + 1);
    console.log('i run all the time');
    useEffect(() => {
      console.log('CALL THE API ...');
    }, []);
    return (
      <div>
        <h1>{counter}</h1>
        <button onClick={onClick}>click me</button>
      </div>
    );
  }

  export default App;


